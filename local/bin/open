#!/bin/bash

FORMAT_ERROR="\e[1;31m[ERROR]"
FORMAT_TITLE="\e[0;34m"
FORMAT_END="\e[0m"

function help() {
	printf "${FORMAT_TITLE}USAGE:${FORMAT_END} $(basename $0) INPUT_FILE\n"
	exit 1
}


function main() {
	local file="$1"

	while getopts "h" opt; do
		case $opt in
			h) help ;;
			*) help ;;
		esac
	done

	[ -z "$file" ] && help

	case $file in
		*.mp4)    mpv     "$file" ;;
		*.mkv)    mpv     "$file" ;;
		*.mp3)    mpv     "$file" ;;
		*.avi)    mpv     "$file" ;;
		*.flac)   mpv     "$file" ;;
		*.png)    sxiv    "$file" ;;
		*.webp)   sxiv    "$file" ;;
		*.jpeg)   sxiv    "$file" ;;
		*.jpg)    sxiv    "$file" ;;
		*.svg)    sxiv    "$file" ;;
		*.pdf)    zathura "$file" ;;
		*) printf "${FORMAT_ERROR} '$file' cannot be open via open()${FORMAT_END}\nUse: [mpv, sxiv or zathura]\n" ;;
	esac
}

main "$@"
